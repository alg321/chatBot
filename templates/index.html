<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Weather App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <!-- JavaScript for Chatbot -->
    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-5e2ESR8Ycmos6g3gAKr1Jvwye8sW4U1u/cAKulfVJnkakCcMqhOudbtPnvJ+nbv7" crossorigin="anonymous">
</head>
<body>
    <div class="background-container">
        <div class="background-image"></div>
        <div class="container">
            <header class="header">
                <h1 class="title">Weather</h1>
            </header>
            <div class="form-container">
                <form class="search-form" action="/weather" method="post">
                    <select name="city" id="city" class="city-select">
                        <option value="" disabled selected>Select city</option>
                        <option value="cumbria">Cumbria</option>
                        <option value="corfe_castle">Corfe Castle</option>
                        <option value="the_cotswolds">The Cotswolds</option>
                        <option value="cambridge">Cambridge</option>
                        <option value="bristol">Bristol</option>
                        <option value="oxford">Oxford</option>
                        <option value="norwich">Norwich</option>
                        <option value="stonehenge">Stonehenge</option>
                        <option value="watergate_bay">Watergate Bay</option>
                        <option value="birmingham">Birmingham</option>
                    </select>
                    <button type="submit" class="search-button">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </form>
            </div>
            <div class="result-container">
                {% if data %}
                    <h2 class="city-name">{{ city }}, {{ country }}</h2>
                    <p class="weather-data">{{ data }}</p>
                {% endif %}
            </div>
            <footer class="footer">
                <!-- Footer content here -->
            </footer>
        </div>
    </div>

    <!-- Chatbot Pop-Up Modal -->
    <div id="chatbotModal" class="chatbot-modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeChatbot()">&times;</span>
            <div id="chatWindow" class="chat-window">
                <!-- Chat messages will go here -->
            </div>
            <div class="input-container">
                <input type="text" id="userInput" class="chat-input" placeholder="Ask me about the weather..." onkeypress="handleKeyPress(event)">
                <button onclick="sendMessage()" class="send-button">Send</button>
            </div>
        </div>
    </div>
    <!-- Button to Open the Modal -->
    <button id="chatbotBtn" class="chatbot-btn" onclick="openChatbot()">Chat with WeatherBot</button>


</body>
</html>
